(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{12:function(e,t,r){},28:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var n,c=r(0),o=r.n(c),a=r(16),u=r.n(a);r(28);!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.KeyUp="KeyW",e.KeyDown="KeyS",e.KeyLeft="KeyA",e.KeyRight="KeyD"}(n||(n={}));var i=100,s=10,l=(r(12),r(2)),f=function(){return Object(l.jsx)("div",{className:"AudioEffectPannel"})},d=r(13),h=r(17),j=r.p+"static/media/bensound-dreams.c705f4ca.mp3",m=r.p+"static/media/throw.1e583756.mp3",w=r(6),b=r(5),p=r(53),v=function(e,t){return t.filter((function(t){return!e.find((function(e){return e.row===t.row&&e.col===t.col}))}))},g=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=v(t,e),c=[];return Array(r).fill(0).forEach((function(r){c.push(Object(w.a)(Object(w.a)({},n[Math.floor(Math.random()*n.length)]),{},{value:2,key:Object(p.a)(),appeared:!0})),n=v([].concat(Object(b.a)(t),c),e)})),[].concat(Object(b.a)(t),c)},O=function(e){return e.reduce((function(e,t,r,n){if(r+1<n.length&&t.value===n[r+1].value&&!t.shouldDelete){var c=Object(w.a)(Object(w.a)({},t),{},{key:Object(p.a)(),value:t.value&&(t.value*=2),merged:!0});t.shouldDelete=!0,n[r+1].shouldDelete=!0,e.push(c,t)}else e.push(t);return e}),[])},y=function(e,t,r){switch(t){case"right":e.sort((function(e,t){return t.col-e.col}));var n=r;return O(e).map((function(e,t,r){return e.col=n,r[t+1]&&!r[t+1].shouldDelete&&(n-=1),e})).sort((function(e,t){return e.col-t.col}));case"left":e.sort((function(e,t){return e.col-t.col}));var c=1;return O(e).map((function(e,t,r){return e.col=c,r[t+1]&&!r[t+1].shouldDelete&&(c+=1),e}));case"up":e.sort((function(e,t){return e.row-t.row}));var o=1;return O(e).map((function(e,t,r){return e.row=o,r[t+1]&&!r[t+1].shouldDelete&&(o+=1),e}));case"down":e.sort((function(e,t){return t.row-e.row}));var a=r;return O(e).map((function(e,t,r){return e.row=a,r[t+1]&&!r[t+1].shouldDelete&&(a-=1),e})).sort((function(e,t){return e.row-t.row}))}},A=function(e,t,r){var n=e.filter((function(e){return!e.shouldDelete}));switch(n.forEach((function(e){delete e.appeared,delete e.merged})),t){case"right":case"left":return function(e,t){return Array.from({length:t}).map((function(t,r){return e.filter((function(e){return e.row===r+1}))}))}(n,r).map((function(e){return y(e,t,r)})).flat();case"up":case"down":return function(e,t){return Array.from({length:t}).map((function(t,r){return e.filter((function(e){return e.col===r+1}))}))}(n,r).map((function(e){return y(e,t,r)})).flat()}},x=r(23),D=r(19),L=function(e){var t=e.tile,r=e.enterLeaveStyles,n=function(e,t){switch(e.value){case 2:case 4:case 8:case 16:case 32:case 64:return.55*t;case 128:case 256:case 512:return.45*t;case 1024:case 2048:return.35*t}}(t,i),c=Object(D.b)({top:110*(t.row-1)+s,left:110*(t.col-1)+s,config:{duration:150},height:i,width:i,fontSize:n});return Object(l.jsx)(D.a.div,{className:"Tile Value-".concat(t.value," ").concat(t.merged?"Merged":""),style:Object(w.a)(Object(w.a)({},c),r),children:t.value})},K=function(e){var t=e.tileList;return Object(l.jsx)("div",{children:Object(l.jsx)(x.Transition,{items:t,keys:t.map((function(e){return e.key})),from:function(e){return e.merged?{transform:"scale(1)"}:{transform:"scale(0)"}},enter:{transform:"scale(1)"},leave:{transform:"scale(0)"},config:{duration:0},children:function(e){return function(t){return Object(l.jsx)(L,{tile:e,enterLeaveStyles:t},e.key)}}})})},k=r(18),E=function(e){var t,r=e.size,o=Object(c.useState)([]),a=Object(d.a)(o,2),u=a[0],f=a[1],w=(t=r,Array.from({length:t}).reduce((function(e,r,n){return e.push.apply(e,Object(b.a)(Array.from({length:t},(function(e,t){return{row:n+1,col:t+1}})))),e}),[])),p=Array.from({length:r},(function(e,t){return Object(l.jsx)("div",{className:"Row",style:{height:i,marginBottom:s},children:Array.from({length:r},(function(e,t){return Object(l.jsx)("div",{className:"Cell",style:{height:i,width:i,marginRight:s}},"cell-col-".concat(t+1))}))},"cell-row-".concat(t+1))})),v=Object(h.a)(m),O=Object(d.a)(v,1)[0];Object(c.useEffect)((function(){var e=function(e){var t=e.code,c=O,o="";if(t===n.ArrowUp||t===n.KeyUp?(o="up",c=O):t===n.ArrowDown||t===n.KeyDown?(c=O,o="down"):t===n.ArrowRight||t===n.KeyRight?(c=O,o="right"):t!==n.ArrowLeft&&t!==n.KeyLeft||(c=O,o="left"),o){c();var a=A(u,o,r),i=g(w,a,2);f(i),o=""}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[u]);var y,x={height:450,width:450,padding:s},D=Object(h.a)(j),L=Object(d.a)(D,2),E=(L[0],L[1]),N=E.stop,R=E.sound,S=(E.pause,!0);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"GameWrapper",style:x,children:[Object(l.jsx)("div",{className:"GridWrapper",children:p}),Object(l.jsx)(K,{tileList:u})]}),Object(l.jsx)("button",{onClick:function(){return R.fade(.3,0,1500),N(),f(g(w,[],2)),y=R.play(),void R.fade(0,.3,3e3,y)},title:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430",children:Object(l.jsx)(k.a,{icon:["fas","gamepad"],size:"lg"})}),Object(l.jsx)("button",{onClick:function(){return R.mute(S,y),R.volume(.3,y),void(S=!S)},title:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443",children:Object(l.jsx)(k.a,{icon:["fas","volume-mute"],size:"lg"})})]})};var N=function(){return Object(l.jsxs)("div",{className:"App",children:["2048 by GYegor",Object(l.jsx)(E,{size:4}),Object(l.jsx)(f,{})]})},R=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,54)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),o(e),a(e)}))},S=r(8),C=r(11);S.b.add(C.a,C.c,C.d,C.b),u.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root")),R()}},[[50,1,2]]]);
//# sourceMappingURL=main.adff4fda.chunk.js.map